GKV_CommunicationLibrary.cpp - головной файл библиотеки, включаемый в проект.

Здесь находятся определения функций отправки стандартных пакетов и функций системы распознавания принимаемых пакетов.

В головной файл включен основной заголовочный файл GKV_CommunicationLibrary.h

-------------------------------------------------------------------------------------------------------
GKV_CommunicationLibrary.h - оcновной заголовочный файл библиотеки. Включает в себя файлы с определением каждого типа пакета, таблицу crc32, описание структуры промежуточного буфера, а также объявления функций:

------
void Check_Connection(void(*ptrSendPacketFun)(PacketBase* Output_Packet)) - функция формирования и отправки пакета проверки соединения (тип 0х00).
 - в качестве аргумента принимает указатель на callback-функцию, посредством которой производится отправка.

------
void Request_Data(void(*ptrSendPacketFun)(PacketBase* Output_Packet)) - функция формирования и отправки пакета запроса данных (0х17). Используется только, если ГКВ настроена в режим "по запросу".
  - в качестве аргумента принимает указатель на callback-функцию, посредством которой производится отправка.

------
void Set_Baudrate(void(*ptrSendPacketFun)(PacketBase* Output_Packet), uint8_t baudrate_register_value) - функция формирования и отправки пакета настроек (0х07) с выбором изменения значения битрейта.
 - в качестве аргумента принимает указатель на callback-функцию, посредством которой производится отправка (*ptrSendPacketFun)(PacketBase* Output_Packet) и значение регистра битрейта (baudrate_register_value) в пакете настроек.

------
void Set_Default_Algorithm_Packet(void(*ptrSendPacketFun)(PacketBase* Output_Packet_Ptr)) - функция формирования и отправки пакета настроек (0х07) с выбором установки типа отправляемого пакета "по умолчанию для данного алгоритма"
  - в качестве аргумента принимает указатель на callback-функцию, посредством которой производится отправка.

------
void Set_Custom_Algorithm_Packet(void(*ptrSendPacketFun)(PacketBase* Output_Packet_Ptr)) - функция формирования и отправки пакета настроек (0х07) с выбором установки типа отправляемого пакета "наборный пакет данных"
  - в качестве аргумента принимает указатель на callback-функцию, посредством которой производится отправка.

------
void Set_Algorithm(void(*ptrSendPacketFun)(PacketBase* Output_Packet_Ptr), uint8_t algorithm_register_value) - функция формирования и отправки пакета настроек (0х07) с выбором алгоритма работы устройства.
 - в качестве аргумента принимает указатель на callback-функцию, посредством которой производится отправка (*ptrSendPacketFun)(PacketBase* Output_Packet) и значение регистра алгоритма в пакете настроек (algorithm_register_value).

------
void GKV_Init_Input(InitInput* ptrInputStructure) - функция инициализации структуры входного буфера, который будет обрабатываться в  GKV_Process
 - в качестве аргумента принимает указатель на экземпляр структуры промежуточного буфера. Структура промежуточного буфера включает структуру общего пакета, значение текущего принятого байта и счетчик обработки принятых байт.

------
uint8_t GKV_Process(void(*ptrRecognisePacket)(PacketBase* buf), InitInput* ptrInputStructure) - функция циклической обработки принятых байт.
  - в качестве аргументов принимает указатель на callback-функцию, посредством которой производится обработка принятых данных (*ptrRecognisePacket) и указатель наэкземпляр структуры промежуточного буфера. 

------
uint32_t crc32_compute(const void *buf, unsigned long size) - функция вычисления контрольной суммы crc32. 

 - В качестве аргументов принимает указатель на начало массива, по которому необходимо вычислить контрольную сумму (*buf), и длину этого массива (size).
 - Возвращает контрольную сумму crc32 на данный массив в формате uint32_t.

------
uint8_t check(PacketBase * pack) - функция проверки корректности контрольной суммы принятого пакета

 - В качестве аргумента принимает указатель на структуру в формате общего пакета (см. файл GKV_BasePacket.h)
 - Возвращает 1 - если контрольная сумма корректна. 0 - если некорректна. Формат возвращаемого значения uint8_t

--------------------------------------------------------------------------------------------------------
Также в заголовочный файл GKV_CommunicationLibrary.h включены следующие файлы:

GKV_BasePacket.h
В данном файле описывается структура общего пакета и структура поля data пакета проверки соединения.

-----------------
GKV_TestPacket.h
В данном файле описывается структура поля data идентификационного пакета устройства и значений его полей

----------------
GKV_SettingsPacket.h
В данном файле описывается структура поля data пакета изменяемых настроек устройства

----------------
GKV_AlgorithmPacket.h
В данном файле описывается структура поля data ВСЕХ пакетов по умолчанию для каждого из используемых алгоритмов

----------------
GKV_CustomPacket.h
В данном файле описывается структура поля data наборного пакета данных, пакета для настройки его параметров и перечень этих параметров.

----------------
GKV_FilterPacket.h
В данном файле описывается структура поля data пакета параметров фильтра данных с датчиков и значений его полей

----------------
GKV_SelfTestPacket.h
В данном файле описывается структура поля data пакета самотестирования и результатов самотестирования, и параметры данного процесса

---------------
GKV_AlgParamPacket.h
В данным файле описывается структура поля data пакетов специализированных параметров, присущих алгоритмам "Фильтр Калмана", "БИНС" и "БИНС-ГНСС"

---------------
GKV_GyroOffsetPacket.h
В данным файле описывается структура поля data пакета вычисления смещения нуля гироскопов и пакета пользовательской настройки их значений.

-----------------------------------------------------------------------------------------------------------------------------------------------
Инициализация требуемых структур, настройка приема данных и вывод данных в консоль продемонстрированы в примерах проектов Visual Studio 2019:

1. GKV_1_Console_Show_ADC.sln - программа выбирает Алгоритм "Коды АЦП" на подключенной ГКВ и выводит принятые и распознанные данные в консоль

2. GKV_2_Console_Choose_Algorithm.sln - программа предлагает пользователю выбрать Алгоритм на подключенной ГКВ и выводит принятые и распознанные данные в консоль

GKV_CommunicationLibrary.h - оcновной заголовочный файл библиотеки. Включает в себя файлы с определением каждого типа пакета, таблицу crc32, описание структуры промежуточного буфера, а также объявления функций:

void Check_Connection(void(ptrSendPacketFun)(PacketBase Output_Packet)) - функция формирования и отправки пакета проверки соединения (тип 0х00).

в качестве аргумента принимает указатель на callback-функцию, посредством которой производится отправка.


void Request_Data(void(ptrSendPacketFun)(PacketBase Output_Packet)) - функция формирования и отправки пакета запроса данных (0х17). Используется только, если ГКВ настроена в режим "по запросу".

в качестве аргумента принимает указатель на callback-функцию, посредством которой производится отправка.


void Set_Baudrate(void(ptrSendPacketFun)(PacketBase Output_Packet), uint8_t baudrate_register_value) - функция формирования и отправки пакета настроек (0х07) с выбором изменения значения битрейта.

в качестве аргумента принимает указатель на callback-функцию, посредством которой производится отправка (ptrSendPacketFun)(PacketBase Output_Packet) и значение регистра битрейта (baudrate_register_value) в пакете настроек.


void Set_Default_Algorithm_Packet(void(ptrSendPacketFun)(PacketBase Output_Packet_Ptr)) - функция формирования и отправки пакета настроек (0х07) с выбором установки типа отправляемого пакета "по умолчанию для данного алгоритма"

в качестве аргумента принимает указатель на callback-функцию, посредством которой производится отправка.


void Set_Custom_Algorithm_Packet(void(ptrSendPacketFun)(PacketBase Output_Packet_Ptr)) - функция формирования и отправки пакета настроек (0х07) с выбором установки типа отправляемого пакета "наборный пакет данных"

в качестве аргумента принимает указатель на callback-функцию, посредством которой производится отправка.


void Set_Algorithm(void(ptrSendPacketFun)(PacketBase Output_Packet_Ptr), uint8_t algorithm_register_value) - функция формирования и отправки пакета настроек (0х07) с выбором алгоритма работы устройства.

в качестве аргумента принимает указатель на callback-функцию, посредством которой производится отправка (ptrSendPacketFun)(PacketBase Output_Packet) и значение регистра алгоритма в пакете настроек (algorithm_register_value).


void GKV_Init_Input(InitInput* ptrInputStructure) - функция инициализации структуры входного буфера, который будет обрабатываться в  GKV_Process

в качестве аргумента принимает указатель на экземпляр структуры промежуточного буфера. Структура промежуточного буфера включает структуру общего пакета, значение текущего принятого байта и счетчик обработки принятых байт.


uint8_t GKV_Process(void(ptrRecognisePacket)(PacketBase buf), InitInput* ptrInputStructure) - функция циклической обработки принятых байт.

в качестве аргументов принимает указатель на callback-функцию, посредством которой производится обработка принятых данных (*ptrRecognisePacket) и указатель наэкземпляр структуры промежуточного буфера.


uint32_t crc32_compute(const void *buf, unsigned long size) - функция вычисления контрольной суммы crc32.

В качестве аргументов принимает указатель на начало массива, по которому необходимо вычислить контрольную сумму (*buf), и длину этого массива (size).
Возвращает контрольную сумму crc32 на данный массив в формате uint32_t.


uint8_t check(PacketBase * pack) - функция проверки корректности контрольной суммы принятого пакета

В качестве аргумента принимает указатель на структуру в формате общего пакета (см. файл GKV_BasePacket.h)
Возвращает 1 - если контрольная сумма корректна. 0 - если некорректна. Формат возвращаемого значения uint8_t


Также в заголовочный файл GKV_CommunicationLibrary.h включены следующие файлы:
GKV_BasePacket.h
В данном файле описывается структура общего пакета и структура поля data пакета проверки соединения.

GKV_TestPacket.h
В данном файле описывается структура поля data идентификационного пакета устройства и значений его полей

GKV_SettingsPacket.h
В данном файле описывается структура поля data пакета изменяемых настроек устройства

GKV_AlgorithmPacket.h
В данном файле описывается структура поля data ВСЕХ пакетов по умолчанию для каждого из используемых алгоритмов

GKV_CustomPacket.h
В данном файле описывается структура поля data наборного пакета данных, пакета для настройки его параметров и перечень этих параметров.

GKV_FilterPacket.h
В данном файле описывается структура поля data пакета параметров фильтра данных с датчиков и значений его полей

GKV_SelfTestPacket.h
В данном файле описывается структура поля data пакета самотестирования и результатов самотестирования, и параметры данного процесса

GKV_AlgParamPacket.h
В данным файле описывается структура поля data пакетов специализированных параметров, присущих алгоритмам "Фильтр Калмана", "БИНС" и "БИНС-ГНСС"

GKV_GyroOffsetPacket.h
В данным файле описывается структура поля data пакета вычисления смещения нуля гироскопов и пакета пользовательской настройки их значений.

